/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package homework.svm;

import java.util.Hashtable;
import java.util.Map;

/**
 *
 * @author luca
 */
public class Categorizer { // This class acts as a dictionary that dinamically maps Categories and Labels to ID and viceversa

    private Map<String, Integer> categoryToIdDictionary = new Hashtable<>();
    private int ID = -1;
    private final Map<Integer, String> idToCategoryDictionary = new Hashtable<>();
    
    private Map<String, Integer> labelToIdDictionary = new Hashtable<>();
    private int LabelID = -1;
    private final Map<Integer, String> idToLabelDictionary = new Hashtable<>();
    
    
    public Categorizer(){}
    
    public void clear() {
        ID = 0;
        categoryToIdDictionary.clear();
        idToCategoryDictionary.clear();
        LabelID = 0;
        labelToIdDictionary.clear();
        idToLabelDictionary.clear();
    }

    public int AddCategory(String name) {
        if (categoryToIdDictionary.containsKey(name)) {
            return categoryToIdDictionary.get(name);
        }
        ID++;
        categoryToIdDictionary.put(name, ID);
        idToCategoryDictionary.put(ID, name);
        return ID;
    }
    
    public int AddLabel(String name) {
        if (labelToIdDictionary.containsKey(name)) {
            return labelToIdDictionary.get(name);
        }
        LabelID++;
        labelToIdDictionary.put(name, LabelID);
        idToLabelDictionary.put(LabelID, name);
        return LabelID;
    }

    public String GetCategory(Integer id) {
        return idToCategoryDictionary.get(id);
    }
    
    public String GetLabel(Integer id) {
        return idToLabelDictionary.get(id);
    }

    public int GetCategoryID(String name) {
        if (categoryToIdDictionary.containsKey(name)) {
            return categoryToIdDictionary.get(name);
        }
        return -1;
    }
    public int GetLabelID(String name) {
        if (labelToIdDictionary.containsKey(name)) {
            return labelToIdDictionary.get(name);
        }
        return -1;
    }
    
    public int getCategoryCount(){
        return categoryToIdDictionary.size();
    }
    public int getLabelCount(){
        return labelToIdDictionary.size();
    }
}


